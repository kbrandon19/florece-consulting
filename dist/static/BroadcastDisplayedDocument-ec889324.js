import{r as i,bx as n,j as o,by as a}from"./sanity-a4c355f7.js";import{m as p}from"./DisplayedDocumentBroadcaster-4e19f92c.js";var v=i.memo(function(s){const u=p(),e=n(!1);return i.useEffect(()=>{if((e==null?void 0:e.perspective)!=="published"){const t=setTimeout(()=>u==null?void 0:u(s.value),10);return()=>clearTimeout(t)}},[e==null?void 0:e.perspective,s.value,u]),(e==null?void 0:e.perspective)==="published"?o.jsx(d,{params:e,setDisplayedDocument:u,value:s.value}):null});function d(s){const{params:u,setDisplayedDocument:e,value:t}=s,{editState:l}=a();return i.useEffect(()=>{if(l!=null&&l.published&&(u==null||!u.prefersLatestPublished)||l==null||!l.published){const r=setTimeout(()=>e==null?void 0:e(t),100);return()=>clearTimeout(r)}},[l==null?void 0:l.published,u==null?void 0:u.prefersLatestPublished,e,t]),null}export{v as default};
